// Validating benchmarks:
//    * No exporters defined, results will not be persisted.

// ***** BenchmarkRunner: Start   *****
// ***** Found 2 benchmark(s) in total *****
// ***** Building 1 exe(s) in Parallel: Start   *****
// start dotnet  restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in /Users/julia/RiderProjects/NetGL/Benchmark/bin/Release/net8.0/0699ec9d-31fd-4043-961e-e24c8881a501
// command took 0.92 sec and exited with 0
// start dotnet  build -c Release --no-restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in /Users/julia/RiderProjects/NetGL/Benchmark/bin/Release/net8.0/0699ec9d-31fd-4043-961e-e24c8881a501
// command took 2.13 sec and exited with 0
// ***** Done, took 00:00:03 (3.12 sec)   *****
// Found 2 benchmarks:
//   Benchmark.SimplexKernel_SIMD_Ptr: Job-NMHBSI(Runtime=.NET 8.0)
//   Benchmark.SimplexKernel_SIMD: Job-NMHBSI(Runtime=.NET 8.0)

// **************************
// Benchmark: Benchmark.SimplexKernel_SIMD_Ptr: Job-NMHBSI(Runtime=.NET 8.0)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet 0699ec9d-31fd-4043-961e-e24c8881a501.dll --anonymousPipes 103 104 --benchmarkName Benchmark.SimplexKernel_SIMD_Ptr --job "Runtime=.NET 8.0" --benchmarkId 0 in /Users/julia/RiderProjects/NetGL/Benchmark/bin/Release/net8.0/0699ec9d-31fd-4043-961e-e24c8881a501/bin/Release/net8.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.13.12
// Runtime=.NET 8.0.5 (8.0.524.21615), Arm64 RyuJIT AdvSIMD
// GC=Concurrent Workstation
// HardwareIntrinsics=AdvSIMD,AES,CRC32,DP,RDM,SHA1,SHA256 VectorSize=128
// Job: DefaultJob


System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.AggregateException: One or more errors occurred. (Unable to cast object of type 'System.Single' to type 'System.Half'.) (Unable to cast object of type 'System.Single' to type 'System.Half'.) (Unable to cast object of type 'System.Single' to type 'System.Half'.) (Unable to cast object of type 'System.Single' to type 'System.Half'.)
 ---> System.InvalidCastException: Unable to cast object of type 'System.Single' to type 'System.Half'.
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, Int32 start_row, Int32 end_row, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 142
   at NetGL.Noise.<>c__DisplayClass4_0`2.<generate_2d_internal>g__body|0(Int32 row) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 93
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
   at System.Threading.Tasks.TaskReplicator.Replica.Execute()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.TaskReplicator.Run[TState](ReplicatableUserAction`1 action, ParallelOptions options, Boolean stopOnFirstFailure)
   at System.Threading.Tasks.Parallel.ForWorker[TLocal,TInt](TInt fromInclusive, TInt toExclusive, ParallelOptions parallelOptions, Action`1 body, Action`2 bodyWithState, Func`4 bodyWithLocal, Func`1 localInit, Action`1 localFinally)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.ForWorker[TLocal,TInt](TInt fromInclusive, TInt toExclusive, ParallelOptions parallelOptions, Action`1 body, Action`2 bodyWithState, Func`4 bodyWithLocal, Func`1 localInit, Action`1 localFinally)
   at System.Threading.Tasks.Parallel.For(Int32 fromInclusive, Int32 toExclusive, ParallelOptions parallelOptions, Action`1 body)
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes, Int32 threads) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 85
   at NetGL.Noise.generate_2d[TKernel,TFloat](Settings settings, ArrayView`1 data, Int32 threads) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 180
   at Benchmark.Setup() in /Users/julia/RiderProjects/NetGL/Benchmark/Program.cs:line 41
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_0.Run(IHost host, String benchmarkName) in /Users/julia/RiderProjects/NetGL/Benchmark/bin/Release/net8.0/0699ec9d-31fd-4043-961e-e24c8881a501/0699ec9d-31fd-4043-961e-e24c8881a501.notcs:line 176
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
 ---> (Inner Exception #1) System.InvalidCastException: Unable to cast object of type 'System.Single' to type 'System.Half'.
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, Int32 start_row, Int32 end_row, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 142
   at NetGL.Noise.<>c__DisplayClass4_0`2.<generate_2d_internal>g__body|0(Int32 row) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 93
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
   at System.Threading.Tasks.TaskReplicator.Replica.Execute()<---

 ---> (Inner Exception #2) System.InvalidCastException: Unable to cast object of type 'System.Single' to type 'System.Half'.
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, Int32 start_row, Int32 end_row, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 142
   at NetGL.Noise.<>c__DisplayClass4_0`2.<generate_2d_internal>g__body|0(Int32 row) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 93
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
   at System.Threading.Tasks.TaskReplicator.Replica.Execute()<---

 ---> (Inner Exception #3) System.InvalidCastException: Unable to cast object of type 'System.Single' to type 'System.Half'.
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, Int32 start_row, Int32 end_row, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 142
   at NetGL.Noise.<>c__DisplayClass4_0`2.<generate_2d_internal>g__body|0(Int32 row) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 93
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
   at System.Threading.Tasks.TaskReplicator.Replica.Execute()<---

   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in /Users/julia/RiderProjects/NetGL/Benchmark/bin/Release/net8.0/0699ec9d-31fd-4043-961e-e24c8881a501/0699ec9d-31fd-4043-961e-e24c8881a501.notcs:line 57
// AfterAll
No Workload Results were obtained from the run.
// Benchmark Process 30640 has exited with code 255.

// ** Remained 1 (50.0 %) benchmark(s) to run. Estimated finish 2024-05-25 10:00 (0h 0m from now) **
// **************************
// Benchmark: Benchmark.SimplexKernel_SIMD: Job-NMHBSI(Runtime=.NET 8.0)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet 0699ec9d-31fd-4043-961e-e24c8881a501.dll --anonymousPipes 103 104 --benchmarkName Benchmark.SimplexKernel_SIMD --job "Runtime=.NET 8.0" --benchmarkId 1 in /Users/julia/RiderProjects/NetGL/Benchmark/bin/Release/net8.0/0699ec9d-31fd-4043-961e-e24c8881a501/bin/Release/net8.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.13.12
// Runtime=.NET 8.0.5 (8.0.524.21615), Arm64 RyuJIT AdvSIMD
// GC=Concurrent Workstation
// HardwareIntrinsics=AdvSIMD,AES,CRC32,DP,RDM,SHA1,SHA256 VectorSize=128
// Job: DefaultJob


System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.AggregateException: One or more errors occurred. (Unable to cast object of type 'System.Single' to type 'System.Half'.) (Unable to cast object of type 'System.Single' to type 'System.Half'.) (Unable to cast object of type 'System.Single' to type 'System.Half'.) (Unable to cast object of type 'System.Single' to type 'System.Half'.)
 ---> System.InvalidCastException: Unable to cast object of type 'System.Single' to type 'System.Half'.
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, Int32 start_row, Int32 end_row, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 142
   at NetGL.Noise.<>c__DisplayClass4_0`2.<generate_2d_internal>g__body|0(Int32 row) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 93
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
   at System.Threading.Tasks.TaskReplicator.Replica.Execute()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.TaskReplicator.Run[TState](ReplicatableUserAction`1 action, ParallelOptions options, Boolean stopOnFirstFailure)
   at System.Threading.Tasks.Parallel.ForWorker[TLocal,TInt](TInt fromInclusive, TInt toExclusive, ParallelOptions parallelOptions, Action`1 body, Action`2 bodyWithState, Func`4 bodyWithLocal, Func`1 localInit, Action`1 localFinally)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.ForWorker[TLocal,TInt](TInt fromInclusive, TInt toExclusive, ParallelOptions parallelOptions, Action`1 body, Action`2 bodyWithState, Func`4 bodyWithLocal, Func`1 localInit, Action`1 localFinally)
   at System.Threading.Tasks.Parallel.For(Int32 fromInclusive, Int32 toExclusive, ParallelOptions parallelOptions, Action`1 body)
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes, Int32 threads) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 85
   at NetGL.Noise.generate_2d[TKernel,TFloat](Settings settings, ArrayView`1 data, Int32 threads) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 180
   at Benchmark.Setup() in /Users/julia/RiderProjects/NetGL/Benchmark/Program.cs:line 41
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_1.Run(IHost host, String benchmarkName) in /Users/julia/RiderProjects/NetGL/Benchmark/bin/Release/net8.0/0699ec9d-31fd-4043-961e-e24c8881a501/0699ec9d-31fd-4043-961e-e24c8881a501.notcs:line 368
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
 ---> (Inner Exception #1) System.InvalidCastException: Unable to cast object of type 'System.Single' to type 'System.Half'.
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, Int32 start_row, Int32 end_row, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 142
   at NetGL.Noise.<>c__DisplayClass4_0`2.<generate_2d_internal>g__body|0(Int32 row) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 93
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
   at System.Threading.Tasks.TaskReplicator.Replica.Execute()<---

 ---> (Inner Exception #2) System.InvalidCastException: Unable to cast object of type 'System.Single' to type 'System.Half'.
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, Int32 start_row, Int32 end_row, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 142
   at NetGL.Noise.<>c__DisplayClass4_0`2.<generate_2d_internal>g__body|0(Int32 row) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 93
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
   at System.Threading.Tasks.TaskReplicator.Replica.Execute()<---

 ---> (Inner Exception #3) System.InvalidCastException: Unable to cast object of type 'System.Single' to type 'System.Half'.
   at NetGL.Noise.generate_2d_internal[TKernel,TFloat](Rectangle`1 area, Int32 texture_size, Int32 start_row, Int32 end_row, TFloat* data, Vector128`1 frequencies, Vector128`1 amplitudes) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 142
   at NetGL.Noise.<>c__DisplayClass4_0`2.<generate_2d_internal>g__body|0(Int32 row) in /Users/julia/RiderProjects/NetGL/NetGL/Engine/Noise/Noise.cs:line 93
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass19_0`2.<ForWorker>b__1(RangeWorker& currentWorker, Int64 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
   at System.Threading.Tasks.TaskReplicator.Replica.Execute()<---

   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in /Users/julia/RiderProjects/NetGL/Benchmark/bin/Release/net8.0/0699ec9d-31fd-4043-961e-e24c8881a501/0699ec9d-31fd-4043-961e-e24c8881a501.notcs:line 57
// AfterAll
No Workload Results were obtained from the run.
// Benchmark Process 30642 has exited with code 255.

// ** Remained 0 (0.0 %) benchmark(s) to run. Estimated finish 2024-05-25 10:00 (0h 0m from now) **
// ***** BenchmarkRunner: Finish  *****

// * Export *

// * Detailed results *
Benchmark.SimplexKernel_SIMD_Ptr: Job-NMHBSI(Runtime=.NET 8.0)
Runtime = .NET 8.0.5 (8.0.524.21615), Arm64 RyuJIT AdvSIMD; GC = Concurrent Workstation
There are not any results runs

Benchmark.SimplexKernel_SIMD: Job-NMHBSI(Runtime=.NET 8.0)
Runtime = .NET 8.0.5 (8.0.524.21615), Arm64 RyuJIT AdvSIMD; GC = Concurrent Workstation
There are not any results runs

// * Summary *

BenchmarkDotNet v0.13.12, macOS Sonoma 14.5 (23F79) [Darwin 23.5.0]
Apple M1, 1 CPU, 8 logical and 8 physical cores
.NET SDK 8.0.300
  [Host]     : .NET 8.0.5 (8.0.524.21615), Arm64 RyuJIT AdvSIMD
  Job-NMHBSI : .NET 8.0.5 (8.0.524.21615), Arm64 RyuJIT AdvSIMD

Runtime=.NET 8.0  

| Method                 | Mean | Error |
|----------------------- |-----:|------:|
| SimplexKernel_SIMD_Ptr |   NA |    NA |
| SimplexKernel_SIMD     |   NA |    NA |

Benchmarks with issues:
  Benchmark.SimplexKernel_SIMD_Ptr: Job-NMHBSI(Runtime=.NET 8.0)
  Benchmark.SimplexKernel_SIMD: Job-NMHBSI(Runtime=.NET 8.0)

// * Legends *
  Mean  : Arithmetic mean of all measurements
  Error : Half of 99.9% confidence interval
  1 ns  : 1 Nanosecond (0.000000001 sec)

// * Diagnostic Output - MemoryDiagnoser *


// ***** BenchmarkRunner: End *****
Run time: 00:00:00 (0.85 sec), executed benchmarks: 2

Global total time: 00:00:04 (4.24 sec), executed benchmarks: 2
// * Artifacts cleanup *
Artifacts cleanup is finished
